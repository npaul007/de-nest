const DeNester=Object.freeze({handleText(e,t,n){if(""==t.textContent.trim()){if(n.keepTextMatch){let a=e.textContent.match(n.keepTextMatch);a&&a.forEach(e=>{t.textContent+=e})}n.keepAllText&&(t.textContent=e.textContent)}},handleAttributes:function(e,t,n){Array.from(e.attributes).forEach(e=>{let a=!1,r=!1,h=!1,l=!1;n.keepTheseAttrByName&&n.keepTheseAttrByName.length>0&&(a=n.keepTheseAttrByName.findIndex(t=>t==e.name)>-1),n.keepTheseAttrByValue&&n.keepTheseAttrByValue.length>0&&(l=n.keepTheseAttrByValue.findIndex(t=>t==e.value)>-1),n.keepValueMatch&&(h=(e.value.match(n.keepValueMatch)||new Array).length>0),n.keepNameMatch&&(r=(e.name.match(n.keepNameMatch)||new Array).length>0),(n.keepAllAttributes||a||r||h||l)&&t.setAttribute(e.name,e.value)})},denestElement:function(e,t,n){for(;e&&e.children;)e.attributes&&n&&n.attributeOptions&&this.handleAttributes(e,t,n.attributeOptions),e.textContent&&n&&n.textOptions&&this.handleText(e,t,n.textOptions),e.children&&(e=e.children[0]);return t},getElementWithTag:function(e,t){return t&&t.tagName?document.createElement(t.tagName.toLowerCase()):document.createElement(e.tagName.toLowerCase())},denest:function(e,t){let n=this.getElementWithTag(e,t);return this.denestElement(e,n,t)}});